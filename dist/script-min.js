"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Amazing=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.config=t,this.config.useClass=this.config.useClass||"amazing",this.config.defaultAnimation=this.config.defaultAnimation||"fadeIn",this.config.defaultSpeed=this.config.defaultSpeed||.25,this.config.defaultDelay=this.config.defaultDelay||0,this.config.allowMobile=0!=this.config.allowMobile,this.config.callback=this.config.callback||!1,this.debug=i,this.objectPool=[]}return _createClass(e,[{key:"isMobile",value:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}},{key:"init",value:function(){var e=this;function t(){document.querySelectorAll(".".concat(e.config.useClass,":not(.finished)")).forEach(function(t){(function(e){var t=e.getBoundingClientRect(),i=t.top,a=t.bottom;return i<window.innerHeight&&a>=0})(t)&&(t.dataset.after||!1||e.objectPool.includes(t)||function t(i){e.objectPool.push(i);var a=i.dataset.animation||e.config.defaultAnimation,n=parseFloat(i.dataset.delay)||e.config.defaultDelay,o=parseFloat(i.dataset.speed)||e.config.defaultSpeed,s=i.dataset.mobile||e.config.allowMobile,c=i.dataset.callback||e.config.callback;"false"==s&&e.isMobile()||(setTimeout(function(){if(i.classList.add("finished"),c&&c(),i.className.indexOf("".concat(e.config.useClass,"-"))>-1){var a=i.className.split(" ").filter(function(t){return t.indexOf("".concat(e.config.useClass,"-"))>-1})[0].replace("".concat(e.config.useClass,"-"),"");document.querySelectorAll('[data-after="'.concat(a,'"]')).forEach(function(e){return t(e)})}},1e3*parseFloat(o+n)),setTimeout(function(){i.classList.add("animation-".concat(o,"s")),i.classList.add("animated"),i.classList.add(a),i.style.visibility="visible"},1e3*n))}(t))})}e.debug&&console.log("Amazing initiated"),t(),window.addEventListener("scroll",t)}}]),e}();
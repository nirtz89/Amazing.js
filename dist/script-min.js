class Amazing{constructor(i={},e=!1){this.intervalWarehouse=[],this.config=i,this.config.useClass=this.config.useClass||"amazing",this.config.defaultAnimation=this.config.defaultAnimation||!1,this.config.defaultSpeed=this.config.defaultSpeed||!1}init(){var i=this;function e(i,e,t,a){setTimeout(()=>{i.classList.add("finished")},1e3*parseFloat(e)),e=isNaN(e)&&e.indexOf(".")>-1?e.replace(".",""):e,setTimeout(()=>{i.classList.add(`animation-${e}s`),i.classList.add("animated"),i.classList.add(t),i.style.visibility="visible"},a)}i.debug&&console.log("Amazing initiated"),window.addEventListener("scroll",function(){try{document.querySelectorAll(`.${i.config.useClass}:not(.animated)`).forEach(t=>{if(function(i){var e=i.getBoundingClientRect(),t=e.top,a=e.bottom;return t<window.innerHeight&&a>=0}(t)){var a=t.dataset.animation||i.config.defaultAnimation,n=t.dataset.delay||0;n*=1e3;var s=t.dataset.speed||1,o=t.dataset.after||!1;if(s=i.config.defaultSpeed||s,o){let l={};l[o]={},l[o].waiting=0,l[o].interval=setInterval(()=>{if(l[o].waiting+=50,console.log(l[o].waiting),(-1!==document.querySelector(`.${o}`).className.split(/\s+/).indexOf("finished")||l[o].waiting>=1e4)&&(e(t,s,a,n),clearTimeout(i.intervalWarehouse.find(i=>i.hasOwnProperty(o))[o].interval),i.debug&&l[o].waiting>=1e4))throw"Woha! I've been waiting for an animation to finish for over 10 seconds. Stopping the interval"},50),i.intervalWarehouse.push(l)}else e(t,s,a,n)}})}catch(i){console.error(`Encountered an error: ${i}`)}})}}